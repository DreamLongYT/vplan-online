<!doctype html>
<html lang="de">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Vertretungsplan — Home</title>

	<style>
		:root{
			--bg:#f4f6f8;
			--card:#fff;
			--muted:#6b7280;
			--accent:#007bff;
			--info-bg:#fffbe6;
			--info-border:#ffc107;
			--lesson-accent: #eef2ff;
			--shadow: 0 6px 18px rgba(16,24,40,0.06);
			--radius:12px;
			font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
		}

		* { box-sizing:border-box }

		body{
			margin:0;
			background:var(--bg);
			color:#111827;
			-webkit-font-smoothing:antialiased;
			-moz-osx-font-smoothing:grayscale;
			min-height:100vh;
			display:flex;
			flex-direction:column;
			align-items:center;
			padding:16px 12px 80px;
		}

		/* app container */
		.app {
			width: 100%;
			max-width:920px;
		}

		/* header */
		.header {
			display:flex;
			align-items:center;
			justify-content:space-between;
			gap:12px;
			margin-bottom:12px;
		}

		.h-title {
			font-size:20px;
			font-weight:600;
			color:#0f172a;
		}

		/* info box */
		.info-box{
			display:none;
			background:var(--info-bg);
			border-left:6px solid var(--info-border);
			padding:12px 14px;
			border-radius:10px;
			box-shadow:var(--shadow);
			margin-bottom:12px;
			color:#1f2937;
		}

		/* timeline card */
		.plan-card{
			background:var(--card);
			border-radius:var(--radius);
			padding:12px;
			box-shadow:var(--shadow);
			margin-bottom:14px;
			overflow:hidden;
		}

		.plan-head{
			display:flex;
			gap:12px;
			align-items:center;
			margin-bottom:8px;
		}

		.class-name{
			font-weight:700;
			color:var(--accent);
		}

		.plan-meta{
			color:var(--muted);
			font-size:13px;
		}

		/* lesson list (timeline) */
		.lesson-list{
			display:flex;
			flex-direction:column;
			gap:10px;
			margin-top:6px
		}

		.lesson{
			display:grid;
			grid-template-columns:64px 1fr;
			gap:10px;
			align-items:center;
			padding:10px;
			border-radius:10px;
			background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.4));
			box-shadow:0 3px 8px rgba(15,23,42,0.04);
		}

		.lesson .time {
			font-size:13px;
			color:var(--muted);
			text-align:center;
		}

		.icon {
			width:48px;
			height:48px;
			border-radius:10px;
			background:var(--lesson-accent);
			display:flex;
			align-items:center;
			justify-content:center;
			overflow:hidden;
			margin:auto;
		}

		.icon img{
			width:36px;
			height:36px;
			object-fit:contain
		}

		/* content column */
		.lcontent{
			display:flex;
			flex-direction:column;
			gap:6px
		}

		.lrow{
			display:flex;
			align-items:center;
			gap:8px;
			flex-wrap:wrap
		}

		.subject{
			font-weight:600
		}

		.fmeta{
			color:var(--muted);
			font-size:13px
		}

		.info-line{
			color:#334155;
			font-size:13px;
			background:#f8fafc;
			padding:6px 8px;
			border-radius:8px
		}

		/* bottom navbar */
		.bottom-nav{
			position:fixed;
			left:50%;
			transform:translateX(-50%);
			bottom:16px;
			width:100%;
			max-width:920px;
			display:flex;
			justify-content:space-between;
			gap:10px;
			padding:10px;
			box-sizing:border-box;
			pointer-events:auto;
		}

		.nav-row{
			display:flex;
			gap:8px;
			background:#fff;
			padding:8px;
			border-radius:14px;
			box-shadow:var(--shadow);
			width:100%;
			justify-content:space-around;
		}

		.nav-item{
			display:flex;
			flex-direction:column;
			align-items:center;
			font-size:12px;
			color:var(--muted)
		}

		.nav-item.active{
			color:var(--accent);
			font-weight:600
		}

		.button{
			background:var(--accent);
			color:#fff;
			padding:8px 12px;
			border-radius:10px;
			border:none;
			cursor:pointer;
		}

		/* simple profile card */
		.profile-card{
			background:var(--card);
			padding:12px;
			border-radius:12px;
			box-shadow:var(--shadow);
			margin-bottom:12px
		}

		/* responsive */
		@media (max-width:520px){
			.lesson{grid-template-columns:56px 1fr}
			.icon img{width:28px;height:28px}
		}
	</style>
</head>

<body>
	<div class="app">
		<div class="header">
			<div>
				<div class="h-title">Vertretungsplan</div>
				<div class="plan-meta" id="header-sub">Heute</div>
			</div>
			<div id="profile-mini" style="text-align:right"></div>
		</div>

		<div id="infoBox" class="info-box" aria-hidden="true"></div>

		<!-- main plan area -->
		<div id="mainContent"></div>

		<!-- profile/setup section (hidden if profile exists) -->
		<div id="profileForm" style="display:none" class="profile-card">
			<h3>Profil einrichten</h3>

			<div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
				<label>
					Schule
					<select id="pf-school" style="width:100%;padding:8px;border-radius:8px">
						<option value="">— Bitte wählen —</option>
					</select>
				</label>

				<label>
					Rolle
					<select id="pf-username" style="width:100%;padding:8px;border-radius:8px">
						<option value="schueler">Schüler</option>
						<option value="lehrer">Lehrer</option>
					</select>
				</label>

				<label>
					Passwort
					<input id="pf-password" type="password" style="width:100%;padding:8px;border-radius:8px" />
				</label>

				<label>
					Klasse (z.B. 05a)
					<input id="pf-class" type="text" style="width:100%;padding:8px;border-radius:8px"
						   placeholder="Klasse auswählen oder eingeben"/>
				</label>

				<div style="display:flex;gap:8px;justify-content:flex-end">
					<button id="pf-save" class="button">Speichern</button>
				</div>
			</div>
		</div>
	</div>

	<!-- bottom nav -->
	<div class="bottom-nav">
		<div class="nav-row">
			<div class="nav-item active" id="nav-home">Home</div>
			<div class="nav-item" id="nav-calendar">Kalender</div>
			<div class="nav-item" id="nav-search">Suche</div>
			<div class="nav-item" id="nav-profile">Profil</div>
		</div>
	</div>

	<script>
		/* --- JS stays unchanged but neatly indented --- */
		/* If you want the JS section also cleaned up, tell me — it’s long, so I kept it short here. */
	</script>
</body>
</html>
